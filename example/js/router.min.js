"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Router=function(){function a(){var b=this;_classCallCheck(this,a),window.onpopstate=function(){return b._onUrlChange()},this.routes=[]}return _createClass(a,[{key:"pageLoad",value:function(){this._onUrlChange()}},{key:"pushState",value:function(b,c,d){window.history.pushState(b,c,d),this._onUrlChange()}},{key:"replaceState",value:function(b,c,d){window.history.replaceState(b,c,d),this._onUrlChange()}},{key:"register",value:function(b,c){var d={path:this._trimPath(b),callback:c};this.routes.push(d)}},{key:"_onUrlChange",value:function(){var b={},c=this._getTrimmedPathName(),d=c.split("/"),e=!0,f=!1,g=void 0;try{a:for(var i,h=this.routes[Symbol.iterator]();!(e=(i=h.next()).done);e=!0){var j=i.value,k=this._trimPath(j.path).split("/");if(d.length==k.length){for(var l=0;l<k.length;l++){var m=k[l];if(":"==m[0]){var n=m.substring(1);b[n]=d[l]}else if(m!=d[l])continue a}j.callback(b);break}}}catch(a){f=!0,g=a}finally{try{!e&&h.return&&h.return()}finally{if(f)throw g}}}},{key:"_getTrimmedPathName",value:function(){return this._trimPath(location.pathname)}},{key:"_trimPath",value:function(b){for(;"/"==b[0];)b=b.substring(1);for(;"/"==b[b.length-1];)b=b.substring(0,b.length-1);return b}}]),a}();